(()=>{"use strict";function e(e){let t,n=0;for(let t=0;t<e.length;t++)n+=e[t];return t=n/e.length,t}function t(t){let n=t.map((e=>e.main.temp_min)),a=t.map((e=>e.main.temp_max)),o=Math.min(...n),c=Math.max(...a);const m=e(t.map((e=>e.main.temp))),l=e(t.map((e=>e.main.humidity)));let r=t[0].dt_txt;const d=new Date(r);let i=document.getElementById("forecastTemplate").content.cloneNode(!0);i.querySelector(".dayName").textContent=new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(d),i.querySelector(".averageTemp").textContent=Math.round(m)+"°C",i.querySelector(".minTemp").textContent=Math.round(o)+"°C",i.querySelector(".maxTemp").textContent=Math.round(c)+"°C",i.querySelector(".humidity").textContent=Math.round(l)+"%",document.getElementById("forecastTarget").appendChild(i)}const n=document.getElementById("rememberMe"),a=document.getElementById("cityName");function o(){document.getElementById("forecastTarget").innerHTML="";const e=document.getElementById("cityName").value;n.checked&&""!==a.value?(localStorage.city=a.value,localStorage.checkbox=n.value):(localStorage.city="",localStorage.checkbox=""),fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${e}&appid=d558391af4161e2ee2e747ad0ce49859&units=metric`).then((e=>e.json())).then((e=>{for(let n=0;n<5;n++){const a=8*n,o=a+8;t(e.list.slice(a,o))}}))}localStorage.checkbox&&""!==localStorage.checkbox?(n.setAttribute("checked","checked"),a.value=localStorage.city):(n.removeAttribute("checked"),a.value=""),document.getElementById("run").addEventListener("click",o),document.getElementById("cityName").addEventListener("keypress",(function(e){"Enter"===e.key&&o()}))})();